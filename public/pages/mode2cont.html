<!DOCTYPE html>

  <html>

    <head>
      <!--include the javascript file to get functions-->
      <!--<script type="text/javascript"src ="../../server.js"></script>-->
      <title>Experience the Drawing Robot!</title>
      <meta charset="utf-8">
      <link rel="stylesheet" type="text/css" href="../styles/style.css">
    </head>

    <body>

      <header>
        <div class="container">
          <div class="logo">
            <img src="../styles/logo.jpg" alt="Drawbot Logo">
          </div>
          <nav class="navigation-top">
            <ul>
              <li><a href="../index.html" class="nav-link">Home</a></li>
              <li><a href="mode1cont.html" class="nav-link">Mode1</a></li>
              <li><a href="#" class="nav-link">Mode2</a></li>
              <li><a href="showcase.html" class="nav-link">Showcase</a></li>
            </ul>

            <div class="dropdown">
              <button class="button-dropdown">Menu</button>
              <div class="dropdown-content">
                <a href="../index.html">Home</a>
                <a href="mode1cont.html">Mode 1</a>
                <a href="showcase.html">Showcase</a>
              </div>
            </div>
          </nav>
        </div>
      </header>

      <main>

        <section class="mode-2-title">
          <h1>MODE 2</h1>
        </section>

        <section class="mode-2-instruction">
          <h2>Control the robot with the keyboard</h2>
          <h3>① Press W, A, S, D to move the robot forward, backward, left, and right</h3>
          <h3>② Press ⬆️ and ⬇️ to lift the drawing tool up and down</h3>
        </section>

        <section class="controlpad">

          <div class = "controlpad-left">
            <div class = "controlpad-top">
              <input type = "button" class = "filler">
              <input type = "button" id = "forward" onclick = "move_forward()" value ="W">
              <input type = "button" class = "filler">
            </div>
            <div class="controlpad-bottom">
              <input type = "button" id = "left" onclick=" move_left()" value ="A">
              <input type = "button" id = "backword" onclick=" move_backword()" value ="S">
              <input type = "button" id = "right" onclick=" move_right()" value ="D">
            </div>
          </div>
          <div class = "controlpad-right">
            <div class = "controlpad-top">
              <input type = "button" id = "up" onclick="lift_up()" value="⬆️">
            </div>
            <div class="controlpad-bottom">
              <input type = "button" id = "down" onclick="lift_down()" value="⬇️">
            </div>
          </div>
          
        </section>

      </main>

      <footer>
        <p>Updated: March 29th, 2022</p>
      </footer>
      <script src="/socket.io/socket.io.js"> </script>
      <script>
        const socket = io();
        // socket.on('greeting-from-server', function (message) {
        //   document.body.appendChild(document.createTextNode(message.greeting));
        // });
        const forwardbtn = document.getElementById("forward");
        forwardbtn.addEventListener("click", () =>{
          // socket.emit('greeting-from-btn',{
          //   greeting: 'Hello Server from btn'
          // });
          socket.emit('forward_cmd', forwardbtn.value);        
        });
        // socket.emit('greeting-from-client',{
        //   greeting: 'Hello Server'
        // });

        const backwardbtn = document.getElementById("backward");
        backwardbtn.addEventListener("click", () =>{
          socket.emit('backward_cmd', backwardbtn.value);        
        });

        const rightbtn = document.getElementById("right");
        rightbtn.addEventListener("click", () =>{
          socket.emit('right_cmd', rightbtn.value);        
        });

        const leftbtn = document.getElementById("left");
        leftbtn.addEventListener("click", () =>{
          socket.emit('left_cmd', leftbtn.value);        
        });

        const upbtn = document.getElementById("up");
        upbtn.addEventListener("click", ()=>{
          socket.emit('up', upbtn.value);
        });

        const downbtn = document.getElementById("down");
        downbtn.addEventListener("click", ()=>{
          socket.emit('down', downbtn.value);
        });
        // socket.emit('greeting-from-client',{
        //   greeting: 'Hello Server'
        // });
      </script>
    </body>

  </html>
  